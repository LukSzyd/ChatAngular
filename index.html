<!DOCTYPE html>
<html>
  <!-- Session caching and restoring example. -->

  <head>
    <title>Client Open Fire</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.js"integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
    
    <script src='js/strophe.js'></script>
    
	<script src='js/chatApp.js'></script>
    <script src='js/directives/newMessage.js'></script>
    <script src='js/services/loginService.js'></script>
    <script src='js/controllers/chatCtrl.js'></script>
    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="emoji-picker-master/lib/css/emoji.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    
  </head>
    <body ng-app = "chatApp" ng-controller="chatCtrl">
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Łukasz Szydłowski</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="#">Home</a></li>
      <li><a href="#">Page 1</a></li>
      <li><a href="#">Page 2</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
      <li><a href="#" data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
    </ul>
  </div>
</nav>      
<div class="container">
        <div class="row">
            <!--           UZYTKOWNICY-->
            <div class="userContainer col-md-2">
              <div class="panel panel-info">
                    <div class="panel-heading">
                      <h3 class="panel-title">Users list: </h3>
                    </div>
                    <div class="panel-body">
                        <li ng-repeat="user in users">
                            <a href="#" ng-click="selectUsers(user)">{{user.username}}</a>
                        </li>
                    </div>
              </div> 
            </div>
                       
       
            <!-- Nav tabs -->
            <ul class="nav nav-tabs col-md-5" role="tablist">
              <li ng-repeat="user in users">
                  <a href="#home" ng-click="selectUsers(user)" role="tab" data-toggle="tab">
                      <icon class="fa fa-user"></icon> {{user.username}}
                  </a>
              </li>
            </ul>           
    
            <!-- Tab panes -->
            <div class="tab-content col-md-5">
              <div class="tab-pane fade active in" id="home">
                  <!--CZAT-->
                  <chat-directive></chat-directive>
              </div>
            </div>
         </div>
</div>
        
        
        <!-- Modal -->
        <div id="myModal" class="modal fade" role="dialog">
          <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Enter credentials: </h4>
              </div>
              <div class="modal-body">
                       
                <div id='login' style='text-align: center' class="row">
                  <form name='cred'>
                    <label for='jid'>Login:</label>
                    <input type='text' class="form-control" ng-model="jid">
                    <label for='pass'>Password:</label>
                    <input type='password' class="form-control" ng-model="pass">
                    <input type='button' class="btn btn-default" id='connect' value={{button_login}} ng-click="connect()">
                  </form>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>

          </div>
        </div>
        <script type='text/ng-template' id="compact">
        <div class="row well well-small text-center">
          <div class="span3">
            <img class="img-rounded" ng-src="{{contact.avatar}}" alt="{{contact.name}}"><br>
            {{contact.name}}<br>
            {{contact.phone}}
          </div>
        </div>
      </script>  

                <h4 class="text-center">Contacts (Compact)</h4>
                <contact compact ng-repeat="contact in contacts" ng-model="contact"></contact>
           
        
    </body>
</html>